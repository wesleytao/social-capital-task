library("xlsx") # load the data
# import the packages we are going to use
library("choroplethr")
library("choroplethrMaps")
table_1997<-read.xlsx("../data/social capital 1997-2014.xlsx", 1)
table_2005<-read.xlsx("../data/social capital 1997-2014.xlsx", 2)
table_2009<-read.xlsx("../data/social capital 1997-2014.xlsx", 3)
table_2014<-read.xlsx("../data/social capital 1997-2014.xlsx", 4)
head(table_2014)# take a look at the head
# plotmap function encapsulate everything
plotmap<-function(df,year){
tempdata<-df[,c(1,3)]
names(tempdata)<-c("region","value")
county_choropleth(tempdata,
title = paste(year, "Social Capital index by county"),
legend="index")
}
# map for 1997
png(filename="1997.png")
plot(faithful)
plotmap(table_1997,"1997")
dev.off()
# plotmap function encapsulate everything
plotmap<-function(df,year){
tempdata<-df[,c(1,3)]
names(tempdata)<-c("region","value")
# save images
setwd("../figs")
png(filename = paste(year,".png",sep = ""))
county_choropleth(tempdata,
title = paste(year, "Social Capital index by county"),
legend="index")
dev.off()
}
# plotmap function encapsulate everything
plotmap<-function(df,year){
tempdata<-df[,c(1,3)]
names(tempdata)<-c("region","value")
# save images
setwd("../figs") # set image path
png(filename = paste(year,".png",sep = ""))
county_choropleth(tempdata,
title = paste(year, "Social Capital index by county"),
legend="index")
dev.off()
}
# map for 1997
plotmap(table_1997,"1997")
# map for 1997
plotmap(table_1997,"1997")
# plotmap function encapsulate everything
plotmap<-function(df,year){
tempdata<-df[,c(1,3)]
names(tempdata)<-c("region","value")
# save images
# setwd("../figs") # set image path
# png(filename = paste(year,".png",sep = ""))
county_choropleth(tempdata,
title = paste(year, "Social Capital index by county"),
legend="index")
# dev.off()
}
# map for 1997
plotmap(table_1997,"1997")
